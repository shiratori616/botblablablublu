<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ü–æ—á–µ–º—É –í–∏–∫–∞ –ª—É—á—à–∞—è? - Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            background: var(--tg-theme-bg-color, linear-gradient(135deg, #667eea 0%, #764ba2 100%));
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
            color: var(--tg-theme-text-color, #000);
        }

        .telegram-theme {
            background: var(--tg-theme-bg-color);
            color: var(--tg-theme-text-color);
        }

        .sparkles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--tg-theme-button-color, white);
            border-radius: 50%;
            animation: sparkle 3s linear infinite;
            opacity: 0.7;
        }

        @keyframes sparkle {
            0% {
                transform: translateY(100vh) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100vh) scale(1);
                opacity: 0;
            }
        }

        .container {
            background: var(--tg-theme-secondary-bg-color, rgba(255, 255, 255, 0.95));
            border-radius: 20px;
            padding: 30px 20px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            position: relative;
            z-index: 10;
        }

        h1 {
            color: var(--tg-theme-button-color, #764ba2);
            margin-bottom: 10px;
            font-size: 2em;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .subtitle {
            color: var(--tg-theme-hint-color, #667eea);
            margin-bottom: 20px;
            font-size: 1em;
        }

        .reason-box {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            line-height: 1.5;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            transform: scale(0.95);
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }

        @keyframes fadeIn {
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .button-container {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        button {
            background: var(--tg-theme-button-color, linear-gradient(135deg, #667eea 0%, #764ba2 100%));
            color: var(--tg-theme-button-text-color, white);
            border: none;
            padding: 12px 20px;
            font-size: 1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            flex: 1;
            min-width: 120px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        button:active {
            transform: translateY(0);
        }

        .main-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 100%;
            margin-top: 10px;
            padding: 15px;
            font-size: 1.1em;
        }

        .share-button {
            background: linear-gradient(135deg, #00c896 0%, #00a67e 100%);
        }

        .counter {
            margin-top: 20px;
            color: var(--tg-theme-subtitle-text-color, #764ba2);
            font-size: 1em;
        }

        .hearts {
            font-size: 1.5em;
            margin: 15px 0;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background: var(--tg-theme-bg-color, #f8f9fa);
            border-radius: 10px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--tg-theme-button-color, #764ba2);
        }

        .stat-label {
            font-size: 0.9em;
            color: var(--tg-theme-hint-color, #666);
            margin-top: 5px;
        }

        .user-info {
            margin: 15px 0;
            padding: 10px;
            background: var(--tg-theme-bg-color, #f8f9fa);
            border-radius: 10px;
            font-size: 0.9em;
            color: var(--tg-theme-hint-color, #666);
        }

        .loading {
            display: none;
            color: var(--tg-theme-hint-color, #666);
            margin: 10px 0;
        }

        @media (max-width: 400px) {
            h1 {
                font-size: 1.5em;
            }
            .reason-box {
                font-size: 1em;
                padding: 20px;
            }
            button {
                font-size: 0.9em;
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="sparkles" id="sparkles"></div>
    
    <div class="container">
        <h1>‚ú® –í–∏–∫–∞ –ª—É—á—à–∞—è! ‚ú®</h1>
        <div class="subtitle">Telegram Mini App –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä</div>
        
        <div class="hearts">üíñüíñüíñ</div>
        
        <div class="user-info" id="userInfo">
            –ó–∞–≥—Ä—É–∑–∫–∞...
        </div>
        
        <div class="reason-box" id="reasonBox">
            –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏!
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="todayCount">0</div>
                <div class="stat-label">–°–µ–≥–æ–¥–Ω—è</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="totalCount">0</div>
                <div class="stat-label">–í—Å–µ–≥–æ</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="shareCount">0</div>
                <div class="stat-label">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ</div>
            </div>
        </div>
        
        <div class="button-container">
            <button onclick="generateReason()" class="main-button">
                üé≤ –ù–æ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞
            </button>
        </div>
        
        <div class="button-container">
            <button onclick="sendToChat()" class="share-button">
                üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —á–∞—Ç
            </button>
            <button onclick="shareWithFriend()">
                üë• –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
            </button>
        </div>
        
        <div class="loading" id="loading">
            –û—Ç–ø—Ä–∞–≤–∫–∞...
        </div>
        
        <div class="counter">
            –°–µ—Å—Å–∏—è: <strong id="sessionCounter">0</strong> –ø—Ä–∏—á–∏–Ω
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã
        document.body.style.background = tg.themeParams.bg_color || 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É Telegram
        tg.MainButton.text = "üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É";
        tg.MainButton.color = "#764ba2";
        tg.MainButton.textColor = "#ffffff";
        
        // –ú–∞—Å—Å–∏–≤ –ø—Ä–∏—á–∏–Ω
        const reasons = [
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–∞–¥–æ—Å—Ç—å –≤ –º–µ–ª–æ—á–∞—Ö",
            "–£ –í–∏–∫–∏ —Å–∞–º–∞—è –∏—Å–∫—Ä–µ–Ω–Ω—è—è —É–ª—ã–±–∫–∞ –Ω–∞ —Å–≤–µ—Ç–µ",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∏—Ç –≤ —Ç—Ä—É–¥–Ω—É—é –º–∏–Ω—É—Ç—É",
            "–° –í–∏–∫–æ–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–≤–∞–µ—Ç —Å–∫—É—á–Ω–æ",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —Å–ª—É—à–∞—Ç—å –∏ —Å–ª—ã—à–∞—Ç—å",
            "–£ –í–∏–∫–∏ –∑–æ–ª–æ—Ç–æ–µ —Å–µ—Ä–¥—Ü–µ",
            "–í–∏–∫–∞ –¥–µ–ª–∞–µ—Ç –º–∏—Ä –≤–æ–∫—Ä—É–≥ —Å–µ–±—è –ª—É—á—à–µ",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ —Å–æ–ª–Ω–µ—á–Ω—ã–π –ª—É—á–∏–∫ –≤ –ø–∞—Å–º—É—Ä–Ω—ã–π –¥–µ–Ω—å",
            "–£ –í–∏–∫–∏ –ø–æ—Ç—Ä—è—Å–∞—é—â–µ–µ —á—É–≤—Å—Ç–≤–æ —é–º–æ—Ä–∞",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –º–µ—á—Ç–∞—Ç—å –∏ –≤–æ–ø–ª–æ—â–∞—Ç—å –º–µ—á—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å",
            "–° –í–∏–∫–æ–π —Ö–æ—á–µ—Ç—Å—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ª—É—á—à–µ",
            "–í–∏–∫–∞ ‚Äî –Ω–∞—Å—Ç–æ—è—â–∏–π –¥—Ä—É–≥, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å—Å—è",
            "–£ –í–∏–∫–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–∏–ª–∞",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –ø—Ä–æ—â–∞—Ç—å –∏ –Ω–µ –¥–µ—Ä–∂–∞—Ç—å –∑–ª–∞",
            "–í–∏–∫–∞ –≤–∏–¥–∏—Ç –≤ –ª—é–¥—è—Ö —Ö–æ—Ä–æ—à–µ–µ",
            "–£ –í–∏–∫–∏ —Ç–∞–ª–∞–Ω—Ç –¥–µ–ª–∞—Ç—å –æ–±—ã—á–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –æ—Å–æ–±–µ–Ω–Ω—ã–º–∏",
            "–í–∏–∫–∞ ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è",
            "–° –í–∏–∫–æ–π –º–æ–∂–Ω–æ –±—ã—Ç—å —Å–æ–±–æ–π",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —É—é—Ç",
            "–£ –í–∏–∫–∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –≤–∫—É—Å",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤–∞ –ø–æ–º–æ—á—å",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —Ä–∞–¥–æ–≤–∞—Ç—å—Å—è —É—Å–ø–µ—Ö–∞–º –¥—Ä—É–≥–∏—Ö",
            "–£ –í–∏–∫–∏ –∑–∞—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–π —Å–º–µ—Ö",
            "–í–∏–∫–∞ ‚Äî —á–µ–ª–æ–≤–µ–∫ —Å–ª–æ–≤–∞",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã",
            "–° –í–∏–∫–æ–π –≤—Ä–µ–º—è –ª–µ—Ç–∏—Ç –Ω–µ–∑–∞–º–µ—Ç–Ω–æ",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –≤—ã—Ö–æ–¥ –∏–∑ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π",
            "–£ –í–∏–∫–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è –∏–Ω—Ç—É–∏—Ü–∏—è",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —É–¥–∏–≤–ª—è—Ç—å",
            "–í–∏–∫–∞ ‚Äî –º–∞—Å—Ç–µ—Ä –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö —Å—é—Ä–ø—Ä–∏–∑–æ–≤",
            "–£ –í–∏–∫–∏ —Ç–∞–ª–∞–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –∫—Ä–∞—Å–æ—Ç—É –≤–µ–∑–¥–µ",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —Ü–µ–Ω–∏—Ç—å —Ç–æ, —á—Ç–æ –∏–º–µ–µ—Ç",
            "–° –í–∏–∫–æ–π —Ö–æ—á–µ—Ç—Å—è –¥–µ–ª–∏—Ç—å—Å—è —Ä–∞–¥–æ—Å—Ç—å—é",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –∏—Å–∫—Ä–µ–Ω–Ω–∞ –≤ —Å–≤–æ–∏—Ö —á—É–≤—Å—Ç–≤–∞—Ö",
            "–£ –í–∏–∫–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è —Ö–∞—Ä–∏–∑–º–∞",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ —á–µ–ª–æ–≤–µ–∫-–ø—Ä–∞–∑–¥–Ω–∏–∫",
            "–£ –í–∏–∫–∏ –æ—Å–æ–±–µ–Ω–Ω—ã–π –≤–∑–≥–ª—è–¥ –Ω–∞ –º–∏—Ä",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–æ–ª—à–µ–±—Å—Ç–≤–æ –∏–∑ –Ω–∏—á–µ–≥–æ",
            "–° –í–∏–∫–æ–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî —ç—Ç–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤–∞ –∫ –Ω–æ–≤–æ–º—É",
            "–£ –í–∏–∫–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –∑–∞–ø–∞—Å –¥–æ–±—Ä–æ—Ç—ã",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ —á–µ–ª–æ–≤–µ–∫-–±–∞—Ç–∞—Ä–µ–π–∫–∞",
            "–£ –í–∏–∫–∏ —Ç–∞–ª–∞–Ω—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –ª—é–¥–µ–π",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —Ü–µ–Ω–∏—Ç—å –¥—Ä—É–∂–±—É",
            "–° –í–∏–∫–æ–π –ª–µ–≥–∫–æ –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–µ—Ç—Å—è —Å–æ–±–æ–π",
            "–£ –í–∏–∫–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø–∞–º—è—Ç—å –Ω–∞ –≤–∞–∂–Ω—ã–µ –º–µ–ª–æ—á–∏",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ —Ö–æ–¥—è—á–∏–π –∞–Ω—Ç–∏–¥–µ–ø—Ä–µ—Å—Å–∞–Ω—Ç",
            "–£ –í–∏–∫–∏ –¥–∞—Ä —É—Å–ø–æ–∫–∞–∏–≤–∞—Ç—å",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–∑–∏—Ç–∏–≤ –≤ –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏",
            "–° –í–∏–∫–æ–π —Ö–æ—á–µ—Ç—Å—è —Å—Ç—Ä–æ–∏—Ç—å –ø–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –∑–Ω–∞–µ—Ç, —á—Ç–æ —Å–∫–∞–∑–∞—Ç—å",
            "–£ –í–∏–∫–∏ —Ç–∞–ª–∞–Ω—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—É",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –±—ã—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ–π",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ —á–µ–ª–æ–≤–µ–∫-–º–æ—Ç–∏–≤–∞—Ç–æ—Ä",
            "–£ –í–∏–∫–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –∂–¥–∞—Ç—å –∏ –≤–µ—Ä–∏—Ç—å",
            "–° –í–∏–∫–æ–π –º–æ–∂–Ω–æ –º–æ–ª—á–∞—Ç—å –∏ –Ω–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–µ–ª–æ–≤–∫–æ—Å—Ç–∏",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤–∞ –≤—ã—Å–ª—É—à–∞—Ç—å",
            "–£ –í–∏–∫–∏ –æ—Å–æ–±–µ–Ω–Ω–∞—è —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª—é–¥–µ–π —Ç–∞–∫–∏–º–∏, –∫–∞–∫–∏–µ –æ–Ω–∏ –µ—Å—Ç—å",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ –ª—É—á —Å–≤–µ—Ç–∞ –≤ —Ç–µ–º–Ω–æ–º —Ü–∞—Ä—Å—Ç–≤–µ",
            "–£ –í–∏–∫–∏ —Ç–∞–ª–∞–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –Ω—É–∂–Ω—ã–µ —Å–ª–æ–≤–∞",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –º–∏—Ä–∏—Ç—å—Å—è –ø–µ—Ä–≤–æ–π",
            "–° –í–∏–∫–æ–π —Ö–æ—á–µ—Ç—Å—è –±—ã—Ç—å —á–µ—Å—Ç–Ω—ã–º",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Ä–µ–º—è –¥–ª—è –±–ª–∏–∑–∫–∏—Ö",
            "–£ –í–∏–∫–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —ç–º–ø–∞—Ç–∏–∏",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å –º–∏—Ä —è—Ä—á–µ",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ —á–µ–ª–æ–≤–µ–∫-–æ–±–Ω–∏–º–∞—à–∫–∞",
            "–£ –í–∏–∫–∏ –¥–∞—Ä —É—Ç–µ—à–∞—Ç—å",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –±–∞–ª–∞–Ω—Å",
            "–° –í–∏–∫–æ–π –º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤–∞ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è",
            "–£ –í–∏–∫–∏ —Ç–∞–ª–∞–Ω—Ç –∑–∞–º–µ—á–∞—Ç—å –¥–µ—Ç–∞–ª–∏",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç—Ä–∞–¥–∏—Ü–∏–∏",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ö–æ—Ä–æ—à–µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è",
            "–£ –í–∏–∫–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è –∂–∏–∑–Ω–µ–Ω–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —É—á–∏—Ç—å—Å—è –Ω–∞ –æ—à–∏–±–∫–∞—Ö",
            "–° –í–∏–∫–æ–π —Ö–æ—á–µ—Ç—Å—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –¥–æ–±—Ä–µ–µ",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–≤–æ–¥ –¥–ª—è —Ä–∞–¥–æ—Å—Ç–∏",
            "–£ –í–∏–∫–∏ –æ—Å–æ–±–µ–Ω–Ω—ã–π –ø–æ—á–µ—Ä–∫ –¥—É—à–∏",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –±—ã—Ç—å —Å–∏–ª—å–Ω–æ–π –∏ –Ω–µ–∂–Ω–æ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ —á–µ–ª–æ–≤–µ–∫-–≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ",
            "–£ –í–∏–∫–∏ —Ç–∞–ª–∞–Ω—Ç –¥–µ–ª–∞—Ç—å –æ–±—ã—á–Ω–æ–µ –Ω–µ–æ–±—ã—á–Ω—ã–º",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–ø–ª–æ –≤ —Å–µ—Ä–¥—Ü–µ",
            "–° –í–∏–∫–æ–π –º–∏—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ–±—Ä–µ–µ",
            "–í–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–µ—Ç—Å—è —á–µ–ª–æ–≤–µ–∫–æ–º",
            "–£ –í–∏–∫–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ª—é–±–∏—Ç—å",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –±—ã—Ç—å –Ω–∞—Å—Ç–æ—è—â–µ–π",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ –ø–æ–¥–∞—Ä–æ–∫ —Å—É–¥—å–±—ã",
            "–£ –í–∏–∫–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –≤–µ—Ä–∞ –≤ –ª—É—á—à–µ–µ",
            "–í–∏–∫–∞ —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å —á—É–¥–µ—Å–∞ —Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏",
            "–° –í–∏–∫–æ–π –∂–∏–∑–Ω—å –æ–±—Ä–µ—Ç–∞–µ—Ç —Å–º—ã—Å–ª",
            "–í–∏–∫–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ –∫–æ—Å–º–æ—Å! üöÄ",
            "–£ –í–∏–∫–∏ –º–∞–≥–∏—á–µ—Å–∫–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–æ–¥–Ω–∏–º–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ",
            "–í–∏–∫–∞ ‚Äî —ç—Ç–æ —Ö–æ–¥—è—á–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ–∑–∏—Ç–∏–≤–∞"
        ];

        let currentReason = "";
        let sessionCounter = 0;
        let totalCount = parseInt(localStorage.getItem('totalCount') || '0');
        let todayCount = parseInt(localStorage.getItem('todayCount') || '0');
        let shareCount = parseInt(localStorage.getItem('shareCount') || '0');
        let lastDate = localStorage.getItem('lastDate') || '';

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–æ–≤—ã–π –ª–∏ –¥–µ–Ω—å
        const today = new Date().toDateString();
        if (lastDate !== today) {
            todayCount = 0;
            localStorage.setItem('lastDate', today);
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        function updateStats() {
            document.getElementById('totalCount').textContent = totalCount;
            document.getElementById('todayCount').textContent = todayCount;
            document.getElementById('shareCount').textContent = shareCount;
            document.getElementById('sessionCounter').textContent = sessionCounter;
            
            localStorage.setItem('totalCount', totalCount);
            localStorage.setItem('todayCount', todayCount);
            localStorage.setItem('shareCount', shareCount);
        }

        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
        function updateUserInfo() {
            const user = tg.initDataUnsafe.user;
            const userInfo = document.getElementById('userInfo');
            
            if (user) {
                const name = user.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                userInfo.innerHTML = `üë§ –ü—Ä–∏–≤–µ—Ç, ${name}!`;
            } else {
                userInfo.innerHTML = `üë§ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!`;
            }
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏—á–∏–Ω—ã
        function generateReason() {
            const randomIndex = Math.floor(Math.random() * reasons.length);
            currentReason = reasons[randomIndex];
            
            const reasonBox = document.getElementById('reasonBox');
            reasonBox.style.animation = 'none';
            setTimeout(() => {
                reasonBox.textContent = currentReason;
                reasonBox.style.animation = 'fadeIn 0.5s forwards';
            }, 10);
            
            sessionCounter++;
            totalCount++;
            todayCount++;
            updateStats();
            
            createSparkles();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            tg.MainButton.show();
            
            // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —á–∞—Ç
        function sendToChat() {
            if (!currentReason) {
                tg.showAlert('–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π –ø—Ä–∏—á–∏–Ω—É! üé≤');
                return;
            }
            
            const message = `‚ú® –ü–æ—á–µ–º—É –í–∏–∫–∞ –ª—É—á—à–∞—è?\n\nüíñ ${currentReason}\n\nüîÆ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ @VikaBestBot`;
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç
            tg.sendData(JSON.stringify({
                action: 'send_reason',
                reason: currentReason,
                user: tg.initDataUnsafe.user
            }));
            
            shareCount++;
            updateStats();
            
            // –í–∏–±—Ä–∞—Ü–∏—è
            if (tg.HapticFeedback) {
                tg.HapticFeedback.notificationOccurred('success');
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            tg.showPopup({
                title: '–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! üéâ',
                message: '–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ —á–∞—Ç',
                buttons: [{
                    id: 'ok',
                    type: 'ok',
                    text: '–û—Ç–ª–∏—á–Ω–æ!'
                }]
            });
        }

        // –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –¥—Ä—É–≥–æ–º
        function shareWithFriend() {
            if (!currentReason) {
                tg.showAlert('–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π –ø—Ä–∏—á–∏–Ω—É! üé≤');
                return;
            }
            
            const shareUrl = `https://t.me/share/url?url=https://t.me/VikaBestBot&text=‚ú® –ü–æ—á–µ–º—É –í–∏–∫–∞ –ª—É—á—à–∞—è?%0A%0Aüíñ ${encodeURIComponent(currentReason)}%0A%0AüîÆ –£–∑–Ω–∞–π –±–æ–ª—å—à–µ –ø—Ä–∏—á–∏–Ω –≤ –±–æ—Ç–µ!`;
            
            tg.openLink(shareUrl);
            
            shareCount++;
            updateStats();
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–∫–æ—Ä–æ–∫
        function createSparkles() {
            const sparklesContainer = document.getElementById('sparkles');
            sparklesContainer.innerHTML = '';
            
            for (let i = 0; i < 15; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = Math.random() * 100 + '%';
                sparkle.style.animationDelay = Math.random() * 3 + 's';
                sparkle.style.animationDuration = (3 + Math.random() * 2) + 's';
                sparklesContainer.appendChild(sparkle);
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
        tg.MainButton.onClick(() => {
            sendToChat();
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
        window.addEventListener('beforeunload', () => {
            tg.close();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateUserInfo();
        updateStats();
        createSparkles();
        
        // –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä–≤–æ–π –ø—Ä–∏—á–∏–Ω—ã
        setTimeout(generateReason, 500);

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã
        if (tg.colorScheme === 'dark') {
            document.body.classList.add('telegram-theme');
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã
        tg.onEvent('themeChanged', () => {
            document.body.style.background = tg.themeParams.bg_color || 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
        });
    </script>
</body>
</html>